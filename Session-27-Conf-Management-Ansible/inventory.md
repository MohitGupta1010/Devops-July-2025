# What is inventory File in Ansible

- It is a File which tells ansible to manage machines like how to connect with them.
- It is having list of host details like ip address, username, key to connect.

- when we run playbook it will take server name from inventory and run the entire script on your server.

**How to Create Inventory File?**

- 3 ways
    1. INI: traditional Format (simple)
    2. YAML: more structured format (modern)
    3. Dynamic: It is generated by Script

- inventory.yml
```yml
all:
    children:
        webservers:
            hosts:
                server1:
                    hostname:
                    username:
                    key:
                server2:
                    hostname:
                    username:
                    key:
        databases:
            db1:
                hosts:
            db2:
                hosts:
        
```

*set key file ~/ .ssh/ location*

```bash
# Create directory .ssh for secret location
mkdir -p ~/.ssh
# move file to that location
mv /mnt/c/Users/NEW/Downloads/ansiblekey.pem ~/.ssh/
# set correct permission
chmod 400 ~/.ssh/ansiblekey.pem

ssh -i ~/.ssh/ansiblekey.pem <instance_DNS>

# if you are able to connect .ssh is configured correctly

```

- ~/.ssh is the secure default place for SSH keys and settings, so SSH knows where to find your keys and permission can be enforced properly

- create inventory.yml as shown
- create playbook.yml as shown

- ansible-playbook -i inventory.yml playbook.yml

- again create index.html
- create nginx.yml
- ansible-playbook -i inventory.yml nginx.yml
